{"version":3,"sources":["ProductDetail.js"],"names":[],"mappings":"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","file":"ProductDetail-compiled.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { getProduct } from '../actions/RequestManager';\r\nimport { Divider, DropDownMenu, MenuItem, RaisedButton } from 'material-ui';\r\nimport AddCart from 'material-ui/svg-icons/action/add-shopping-cart';\r\nimport Card from 'material-ui/svg-icons/action/credit-card';\r\nimport { Link, DirectLink, Element, Events, animateScroll, scrollSpy } from 'react-scroll';\r\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn } from 'material-ui/Table';\r\nimport CircularProgress from './CircularProgress';\r\nimport { seperatorCommas } from './separatorCommas';\r\n\r\nclass ProductDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      itemOption: 0,\r\n      styles: {\r\n        id: {width: \"10%\", textAlign: \"center\"},\r\n        titleHeader: {width: \"60%\", textAlign: \"center\"},\r\n        title: {width: \"60%\"},\r\n        userName: {width: \"10%\", textAlign: \"center\"},\r\n        date: {width: \"12%\", textAlign: \"center\"},\r\n        star: {width: \"8%\", textAlign: \"center\"},\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const params = {\r\n      productId: this.props.match.params.productId\r\n    };\r\n\r\n    this.props.getProduct(params)\r\n      .then(res => {\r\n        const { product } = res.payload.data;\r\n\r\n        this.setState({product})\r\n      });\r\n\r\n\r\n    Events.scrollEvent.remove(\"begin\");\r\n    Events.scrollEvent.remove(\"end\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    Events.scrollEvent.register(\"begin\", (to, element) => {\r\n      console.log(\"begin\", arguments);\r\n    });\r\n    Events.scrollEvent.register(\"end\", (to, element) => {\r\n      console.log(\"end\", arguments);\r\n    });\r\n    scrollSpy.update()\r\n  }\r\n\r\n  scrollToTop() {\r\n    animateScroll.scrollToTop()\r\n  }\r\n\r\n  scrollToBottom() {\r\n    animateScroll.scrollToBottom()\r\n  }\r\n\r\n  scrollTo() {\r\n    animateScroll.scrollTo(100)\r\n  }\r\n\r\n  scrollMore() {\r\n    animateScroll.scrollMore(100)\r\n  }\r\n\r\n  onOptionChange(event, index, value) {\r\n    this.setState({itemOption: value})\r\n  }\r\n\r\n  renderOptions() {\r\n    const { options } = this.state.product;\r\n\r\n    if (options.length == 0)\r\n      return <MenuItem primaryText={`옵션 없음`} />;\r\n\r\n    return options.map((option, index) => {\r\n      return (\r\n        <MenuItem key={index} value={index} primaryText={`${option.description} - ${seperatorCommas(option.additional_fee)}원`} />\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n\r\n  renderTabBar(sequence) {\r\n    const tabBars = [\r\n      {name: \"상품설명\", link: \"productDescription\"},\r\n      {name: \"상품정보\", link: \"productInformation\"},\r\n      {name: \"상품후기\", link: \"productPostScript\"},\r\n    ];\r\n\r\n    const renderTabItem = () => {\r\n      return tabBars.map((tabBar, index) => {\r\n        return (\r\n          <li\r\n            key={index}\r\n            className={sequence == index ? \"detailTabElement detailSelectedTab\" : \"detailTabElement\"}\r\n          >\r\n            <Link\r\n              to={tabBar.link}\r\n              smooth={true}\r\n              duration={500}\r\n            >\r\n              {tabBar.name}\r\n            </Link>\r\n          </li>\r\n        )\r\n      });\r\n    };\r\n\r\n    return (\r\n      <ul className=\"detailTab sticky\">\r\n        {renderTabItem()}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this);\r\n\r\n    if (this.state.product === undefined)\r\n      return <CircularProgress />;\r\n\r\n    const { styles } = this.state;\r\n\r\n    const renderPostScript = () => {\r\n      return this.state.product.post_script.map((postScript, index) => {\r\n        return (\r\n          <TableRow key={index}>\r\n            <TableRowColumn style={styles.id}>{postScript.id}</TableRowColumn>\r\n            <TableRowColumn style={styles.title}>{postScript.comment}</TableRowColumn>\r\n            <TableRowColumn style={styles.userName}>{postScript.user_name}</TableRowColumn>\r\n            <TableRowColumn style={styles.date}>{postScript.date}</TableRowColumn>\r\n            <TableRowColumn style={styles.star}>{postScript.star}</TableRowColumn>\r\n          </TableRow>\r\n        )\r\n      })\r\n    };\r\n\r\n\r\n    const { product } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"clearfix\">\r\n          <div className=\"col-md-5\">\r\n            <img style={{width: \"100%\"}} src={`/assets/img/${product.image_path}`} alt=\"\"/>\r\n          </div>\r\n          <div className=\"col-md-7\">\r\n            <h3>{product.name}</h3>\r\n            <p>{product.description}</p>\r\n            <Divider className=\"mr-2\" />\r\n            <div>\r\n              <span>판매가격</span>\r\n              <span className=\"pull-right\" style={{color: 'red'}}>{`${seperatorCommas(product.price_sale)}원`}</span>\r\n            </div>\r\n            <div>\r\n              <span>원산지</span>\r\n              <span className=\"pull-right\">국내산</span>\r\n            </div>\r\n            <div>\r\n              <span>배송</span>\r\n              <span className=\"pull-right\">3만원 이상 무료배송</span>\r\n            </div>\r\n            <div className=\"py-4\">\r\n              <span>옵션</span>\r\n              <DropDownMenu value={this.state.itemOption} onChange={this.onOptionChange.bind(this)}>\r\n                {this.renderOptions()}\r\n              </DropDownMenu>\r\n            </div>\r\n            <div className=\"py-2\">\r\n              <RaisedButton\r\n                href=\"/cart\"\r\n                style={{width: \"50%\"}}\r\n                label=\"장바구니\"\r\n                icon={<AddCart />}\r\n                // 여기서 장바구니에 담는 API를 call 해라,\r\n                // 그리고 팝업같은거 띄워서 계속 쇼핑할지,\r\n                // 장바구니로 갈지 정할 수 있도록 나눠\r\n                onTouchTap={() => console.log(\"\")}\r\n              />\r\n              <RaisedButton\r\n                href=\"/payment\"\r\n                style={{width: \"50%\"}}\r\n                label=\"바로구매\"\r\n                icon={<Card />}\r\n                onTouchTap={() => console.log(\"바로구매를 하면 구매 페이지로 바로 넘어갈 수 있게\")}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Element name=\"productDescription\" className=\"product\" >\r\n          {this.renderTabBar(0)}\r\n          <div>\r\n            <img src={`/assets/img/${product.details[0].image_path}`} alt=\"\" width=\"100%\"/>\r\n          </div>\r\n        </Element>\r\n\r\n        <Element name=\"productInformation\" className=\"product\">\r\n          {this.renderTabBar(1)}\r\n          <div>\r\n            <img src={`/assets/img/${product.details[1].image_path}`} alt=\"\" width=\"100%\"/>\r\n          </div>\r\n        </Element>\r\n\r\n        <Element name=\"productPostScript\" className=\"product\">\r\n          {this.renderTabBar(2)}\r\n          <Table>\r\n            <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n              <TableRow>\r\n                <TableHeaderColumn style={styles.id}>번호</TableHeaderColumn>\r\n                <TableHeaderColumn style={styles.titleHeader}>제목</TableHeaderColumn>\r\n                <TableHeaderColumn style={styles.user}>작성자</TableHeaderColumn>\r\n                <TableHeaderColumn style={styles.date}>작성일</TableHeaderColumn>\r\n                <TableHeaderColumn style={styles.grade}>평점</TableHeaderColumn>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody displayRowCheckbox={false} showRowHover={true}>\r\n              {renderPostScript()}\r\n            </TableBody>\r\n          </Table>\r\n        </Element>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators({\r\n    getProduct,\r\n  }, dispatch)\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);\r\n\r\n"]}